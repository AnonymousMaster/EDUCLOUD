<%-# Fedena
#Copyright 2010 Foradian Technologies Private Limited
#
#This product includes software developed at
#Project Fedena - http://www.projectfedena.org/
#
#Licensed under the Apache License, Version 2.0 (the "License");
#you may not use this file except in compliance with the License.
#You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
#Unless required by applicable law or agreed to in writing,
#software distributed under the License is distributed on an
#"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#KIND, either express or implied.  See the License for the
#specific language governing permissions and limitations
#under the License. -%>
<div class="panel panel-primary" id="content-header">

  <div class = "panel-heading">
    <h4> 
      <i class = "icon-book"></i>
     <%= t('courses_text') %> | 
      <span><%= t('new_text') %></span>
    </h4>
  </div>

 <div class = "panel-body">
      <div class = "barra-estado">
        <div id="app-back-button">
          <%= link_to_function image_tag("/images/buttons/back.png",:border => 0), "history.back()" %>
        </div>
      </div>

<div id="page-yield">

  <% unless flash[:notice].nil? %>
    <p class="flash-msg"> <%= flash[:notice] %> </p>
  <% end %>

  <div class="box">
    <div class="bread_crumb">
      <%= link_to "#{t('course_text')}", courses_path %> &raquo;
      <%= t('new_text') %>
    </div>

    <% form_for setup_course(@course) do |f| %>

      <%= error_messages_for :course %>
 <div class = "row">
    <div class="col-md-6 form-group">
        <div class="label-container1"><%= "#{t('course_name')}" %></div>
        <div><%= f.text_field :course_name , :class => 'form-control input-sm' %></div>
    </div>

    <div class="col-md-6 form-group">
        <div class="label-container1"><%= "#{t('section_name')}" %></div>
        <div><%= f.text_field :section_name , :class => 'form-control input-sm' %></div>
      </div>
</div>

 <div class = "row">
    <div class="col-md-6 form-group">
        <div class="label-container1"><%= "#{t('code')}" %></div>
        <div><%= f.text_field :code , :class => 'form-control input-sm' %></div>
      </div>

      <div class="col-md-6 form-group">
        <% unless @grade_types.blank? %>

          <div class="label-field-pair">
            <div class="label-container"><%= f.label "Grading System type" %></div>
            <div class="text-input-bg"><%= f.select :grading_type,@grade_types %></div>
          </div>
        <% end %>
      </div>
</div>

<div class="well well-sm"><span><%= t('initial_batch') %></span></div>

 <div class = "row">
      <% f.fields_for :batches do |batch_form| %>
        <div class="col-md-6 form-group">
          <div class="label-container"><%= batch_form.label "#{t('name')}" %></div>
          <div><%= batch_form.text_field :name , :class => 'form-control input-sm' %></div>
        </div>


        <div class="col-md-6 form-group">
          <div class="label-container"><%= batch_form.label "#{t('start_date')}" %></div>
          <div class="input-container"><%= calendar_date_select_tag 'course[batches_attributes][0][start_date]', I18n.l(Date.today,:format=>:default),  :popup=>"force" %></div>
        </div>
</div>

<div class = "row">
    <div class="col-md-6 form-group">
          <div class="label-container"><%= batch_form.label "#{t('end_date')}" %></div>
          <div class="input-container"><%= calendar_date_select_tag 'course[batches_attributes][0][end_date]', I18n.l(Date.today + 1.year,:format=>:default), :popup=>"force" %></div>
        </div>
</div>
      <% end %>
      <div class="form-actions">
      <%= submit_tag "", :value => "â–º #{t('save')}", :class => "submit_button" ,  :class => "btn btn-primary" %>
      </div>

    <% end %>

    <div class="extender"></div>
  </div>
</div>
</div>
</div>
<script type="text/javascript">
  function toggle_grading(){
    if($('course_cce_enabled').checked){
      $("grading").hide();
      $('course_grading_type').value="Normal"
    }
    else{
      $("grading").show();
    }
    return true;
  }
</script>
